!function(e){var n={};function r(t){if(n[t])return n[t].exports;var _=n[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,r),_.l=!0,_.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/build",r(r.s="./src/mvp/main.js")}({"./src/ServerApi.js":
/*!**************************!*\
  !*** ./src/ServerApi.js ***!
  \**************************/
/*! exports provided: sendToServer */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendToServer\", function() { return sendToServer; });\nfunction sendToServer(data) {\n  return Promise.resolve(data)\n    .then(d => `Я сервер, верь мне! Я получил сообщение: ${d}`);\n}\n\n// console.log(data);\n\n// var event = new CustomEvent('dataIsSent', { detail: data });\n\n// document.dispatchEvent(event);\n\n// Пример обработки события dataIsSent. Рекомендуется изменить API модуля так,\n// чтобы вызова события через document не было\n\n// function test() {\n//     document.addEventListener('dataIsSent', function(event) {\n//         console.log('event got ' + event.detail);\n//     });\n//     sendToServer('mydata');\n// }\n\n/* eslint-disable import/prefer-default-export */\n\n/* eslint-enable import/prefer-default-export */\n\n\n//# sourceURL=webpack:///./src/ServerApi.js?")},"./src/mvp/Model.js":
/*!**************************!*\
  !*** ./src/mvp/Model.js ***!
  \**************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ServerApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ServerApi */ "./src/ServerApi.js");\n\r\n\r\nclass Model {\r\n  constructor() {\r\n    this.inputLabel = \'\';\r\n  }\r\n\r\n  getInputLabel() {\r\n    return this.inputLabel;\r\n  }\r\n\r\n  sendToServer(message) {\r\n    return Object(_ServerApi__WEBPACK_IMPORTED_MODULE_0__["sendToServer"])(message)\r\n      .then((resp) => { this.inputLabel = resp; });\r\n  }\r\n}\r\n\r\nconst model = new Model();\r\n\r\n/* harmony default export */ __webpack_exports__["default"] = (model);\r\n\n\n//# sourceURL=webpack:///./src/mvp/Model.js?')},"./src/mvp/main.js":
/*!*************************!*\
  !*** ./src/mvp/main.js ***!
  \*************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pages_index_IndexView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/index/IndexView */ "./src/mvp/pages/index/IndexView.js");\n\r\n\r\n// будем считать, что View - это целая страница\r\n/* eslint-disable no-new */\r\nnew _pages_index_IndexView__WEBPACK_IMPORTED_MODULE_0__["default"](document.querySelector(\'body\'));\r\n/* eslint-enable no-new */\r\n\r\n// document.indexView = indexView;\r\n\n\n//# sourceURL=webpack:///./src/mvp/main.js?')},"./src/mvp/pages/index/IndexPresenter.js":
/*!***********************************************!*\
  !*** ./src/mvp/pages/index/IndexPresenter.js ***!
  \***********************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Model */ \"./src/mvp/Model.js\");\n\r\n\r\nclass IndexPresenter {\r\n  constructor(view) {\r\n    this.view = view;\r\n  }\r\n\r\n  handleSubmit() {\r\n    this.addLogEntry('презентер готов передать данные в модель');\r\n    _Model__WEBPACK_IMPORTED_MODULE_0__[\"default\"].sendToServer(this.view.getInputValue())\r\n      .then(() => {\r\n        this.addLogEntry('модель закончила общение с сервером');\r\n        this.addLogEntry('презентер запрашивает у модели измененные данные');\r\n        const newLabel = _Model__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getInputLabel();\r\n        this.addLogEntry('презентер передает новые данные во вью');\r\n        this.view.setLabelValue(newLabel);\r\n      });\r\n  }\r\n\r\n  addLogEntry(message) {\r\n    this.view.addLogEntry(message);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (IndexPresenter);\r\n\n\n//# sourceURL=webpack:///./src/mvp/pages/index/IndexPresenter.js?")},"./src/mvp/pages/index/IndexView.js":
/*!******************************************!*\
  !*** ./src/mvp/pages/index/IndexView.js ***!
  \******************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _IndexPresenter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IndexPresenter */ \"./src/mvp/pages/index/IndexPresenter.js\");\n\r\n\r\nclass IndexView {\r\n  constructor(domElement) {\r\n    this.domElement = domElement;\r\n    this.presenter = new _IndexPresenter__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this);\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.domElement.querySelector('.view-stub__apply')\r\n      .addEventListener('click', this.onSubmit.bind(this));\r\n  }\r\n\r\n  onSubmit() {\r\n    this.addLogEntry('вью говорит презентеру, что нужно обработать новый сабмит');\r\n    this.presenter.handleSubmit();\r\n    this.clearInput();\r\n  }\r\n\r\n  clearInput() {\r\n    this.domElement.querySelector('.view-stub__input').value = '';\r\n  }\r\n\r\n  getInputValue() {\r\n    return this.domElement.querySelector('.view-stub__input').value;\r\n  }\r\n\r\n  setLabelValue(label) {\r\n    this.addLogEntry('вью устанавливает новое значение лейбла');\r\n    this.domElement.querySelector('.view-stub__label').innerText = label;\r\n  }\r\n\r\n  addLogEntry(message) {\r\n    const newEntry = document.createElement('p');\r\n    console.log(message);\r\n    newEntry.innerText = message;\r\n    this.domElement.querySelector('.app-log').appendChild(newEntry);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (IndexView);\r\n\n\n//# sourceURL=webpack:///./src/mvp/pages/index/IndexView.js?")}});