!function(r){var e={};function _(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return r[n].call(t.exports,t,t.exports,_),t.l=!0,t.exports}_.m=r,_.c=e,_.d=function(r,e,n){_.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},_.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},_.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return _.d(e,"a",e),e},_.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},_.p="/build",_(_.s="./src/mvc/main.js")}({"./src/mvc/log.js":
/*!************************!*\
  !*** ./src/mvc/log.js ***!
  \************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nconst log = document.querySelector('.app-log');\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (message) {\r\n  const newEntry = document.createElement('p');\r\n  newEntry.innerText = message;\r\n  console.log(message);\r\n  log.appendChild(newEntry);\r\n});\r\n\n\n//# sourceURL=webpack:///./src/mvc/log.js?")},"./src/mvc/main.js":
/*!*************************!*\
  !*** ./src/mvc/main.js ***!
  \*************************/
/*! no exports provided */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _server_Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server/Controller */ \"./src/mvc/server/Controller.js\");\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./log */ \"./src/mvc/log.js\");\n\r\n\r\n\r\nclass YourBrowser {\r\n  constructor(domElement) {\r\n    this.domElement = domElement;\r\n  }\r\n\r\n  renderHTML(HTML) {\r\n    this.domElement.innerHTML = HTML;\r\n    this.mockRequestStub();\r\n  }\r\n\r\n  mockRequestStub() {\r\n    const form = this.domElement.querySelector('.view-stub__input-block');\r\n    this.domElement.querySelector('.view-stub__apply')\r\n      .addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        this.post(form.attributes.action.value, new FormData(form));\r\n      });\r\n  }\r\n\r\n  get(url) {\r\n    Object(_log__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('ваш браузер запрашивает у сервера главную страницу (обращение к контроллеру)');\r\n    this.renderHTML(_server_Controller__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url));\r\n  }\r\n\r\n  post(url, formData) {\r\n    Object(_log__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('ваш браузер делает POST запрос на сервер (обращение к контроллеру)');\r\n    const body = Array.from(formData.entries())\r\n      .map(entry => entry.join('='))\r\n      .join('\\n');\r\n    this.renderHTML(_server_Controller__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(url, body));\r\n  }\r\n}\r\n\r\nconst yourBrowser = new YourBrowser(document.querySelector('.kinda-browser'));\r\n\r\nyourBrowser.get('/');\r\n\n\n//# sourceURL=webpack:///./src/mvc/main.js?")},"./src/mvc/server/Controller.js":
/*!**************************************!*\
  !*** ./src/mvc/server/Controller.js ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _view_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view/index */ "./src/mvc/server/view/index.js");\n/* harmony import */ var _view_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view/error */ "./src/mvc/server/view/error.js");\n/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Model */ "./src/mvc/server/Model.js");\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../log */ "./src/mvc/log.js");\n\r\n\r\n\r\n\r\n\r\nclass Controller {\r\n  constructor(model) {\r\n    this.model = model;\r\n  }\r\n\r\n  static parseBody(body) {\r\n    const parsedBody = {};\r\n\r\n    body.split(\'\\n\').forEach((entry) => {\r\n      const [key, value] = entry.split(\'=\');\r\n      parsedBody[key] = value;\r\n    });\r\n\r\n    return parsedBody;\r\n  }\r\n\r\n  get(route) {\r\n    switch (route) {\r\n      case \'/\':\r\n        Object(_log__WEBPACK_IMPORTED_MODULE_3__["default"])(\'контроллер определил, что роут "/" соответствует вью index\');\r\n        return Object(_view_index__WEBPACK_IMPORTED_MODULE_0__["default"])(this.model);\r\n      default:\r\n        console.error(`unknown route ${route}`);\r\n        return Object(_view_error__WEBPACK_IMPORTED_MODULE_1__["default"])();\r\n    }\r\n  }\r\n\r\n  post(route, _body) {\r\n    const body = this.constructor.parseBody(_body);\r\n    switch (route) {\r\n      case \'new-label\':\r\n        Object(_log__WEBPACK_IMPORTED_MODULE_3__["default"])(\'контроллер определил, что роут "new-label" соответствует мутации данных в модели\');\r\n        this.model.setInputLabel(body.input);\r\n        Object(_log__WEBPACK_IMPORTED_MODULE_3__["default"])(\'после мутации модели контроллер отдает вью index\');\r\n        return this.get(\'/\');\r\n      default:\r\n        console.error(`unknown route ${route}`);\r\n        return Object(_view_error__WEBPACK_IMPORTED_MODULE_1__["default"])();\r\n    }\r\n  }\r\n}\r\n\r\nconst controller = new Controller(_Model__WEBPACK_IMPORTED_MODULE_2__["default"]);\r\n\r\n/* harmony default export */ __webpack_exports__["default"] = (controller);\r\n\n\n//# sourceURL=webpack:///./src/mvc/server/Controller.js?')},"./src/mvc/server/Model.js":
/*!*********************************!*\
  !*** ./src/mvc/server/Model.js ***!
  \*********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../log */ "./src/mvc/log.js");\n\r\n\r\nclass Model {\r\n  constructor() {\r\n    this.inputLabel = \'Здесь появится ответ сервера\';\r\n  }\r\n  getInputLabel() {\r\n    return this.inputLabel;\r\n  }\r\n  setInputLabel(inputValue) {\r\n    Object(_log__WEBPACK_IMPORTED_MODULE_0__["default"])(`модель меняет данные "inputValue" на ${inputValue}`);\r\n    this.inputLabel = `Я сервер, верь мне! Я получил сообщение ${inputValue}`;\r\n  }\r\n}\r\n\r\nconst model = new Model();\r\n\r\n/* harmony default export */ __webpack_exports__["default"] = (model);\r\n\n\n//# sourceURL=webpack:///./src/mvc/server/Model.js?')},"./src/mvc/server/view/error.js":
/*!**************************************!*\
  !*** ./src/mvc/server/view/error.js ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = (function () {\r\n  return `\r\n    <h1>Server Error 500!</h1>\r\n  `;\r\n});\r\n\n\n//# sourceURL=webpack:///./src/mvc/server/view/error.js?')},"./src/mvc/server/view/index.js":
/*!**************************************!*\
  !*** ./src/mvc/server/view/index.js ***!
  \**************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _log__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../log */ "./src/mvc/log.js");\n\r\n\r\n/* harmony default export */ __webpack_exports__["default"] = (function (model) {\r\n  Object(_log__WEBPACK_IMPORTED_MODULE_0__["default"])(\'вью index рендерит шаблон\');\r\n  return `\r\n    <h1>Архитектура приложения</h1>\r\n    <div class="view-stub">\r\n        <form class="view-stub__input-block" method="POST" action="new-label">\r\n            <input class="view-stub__input" name="input"/>\r\n            <button class="view-stub__apply" type="submit">Отправить на сервер</button>\r\n        </form>\r\n        <p class="view-stub__label">${model.getInputLabel()}</p>\r\n    </div>\r\n  `;\r\n});\r\n\n\n//# sourceURL=webpack:///./src/mvc/server/view/index.js?')}});